!function(angular){"use strict";angular.module("angularCardflag",[]).directive("angularCardflag",function(){return{restrict:"A",link:function($scope,el){function flag(el){var c={amex:[34,37],visa:[4],master:[51,52,53,54,55],diners:[300,301,302,303,304,305,2014,2149,36],hipercard:[38],aura:[50],elo:[63]},matched=!1;for(var a in c)if(!matched)for(var b in c[a]){var r=new RegExp("^"+c[a][b]),remove=el[0].className.match(/\b(card-flag)\.?[^\s]+/g),css=el[0].className;if(el[0].value.match(r)){matched=!0,el[0].className=css.replace(remove,"").concat(" card-flag-"+a);break}el[0].className=css.replace(remove,"")}}el.addClass("card-flag"),el[0].insertAdjacentHTML("afterend",'<span class="_flag"></span>'),el.bind("keyup keydown blur",function(){flag(el)})}}})}(angular);